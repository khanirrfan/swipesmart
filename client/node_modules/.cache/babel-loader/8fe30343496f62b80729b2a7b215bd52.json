{"ast":null,"code":"import _objectSpread from \"/home/irfan/Desktop/go-workspace/src/github.com/swipesmart/client/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/irfan/Desktop/go-workspace/src/github.com/swipesmart/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/irfan/Desktop/go-workspace/src/github.com/swipesmart/client/src/components/auth/Login.js\";\nimport React, { Fragment, useState } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { login } from '../../actions/auth';\n\nconst Login = ({\n  login,\n  isAuthenticated,\n  auth: {\n    user\n  }\n}) => {\n  console.log('user login:', user);\n\n  const _useState = useState({\n    username: '',\n    email: '',\n    password: '',\n    type: ''\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        formData = _useState2[0],\n        setFormData = _useState2[1];\n\n  const username = formData.username,\n        email = formData.email,\n        password = formData.password,\n        type = formData.type;\n\n  const onChange = e => setFormData(_objectSpread({}, formData, {\n    [e.target.name]: e.target.value\n  }));\n\n  const onSubmit = async e => {\n    e.preventDefault();\n    login(username, email, password, type);\n  };\n\n  if (isAuthenticated && user) {\n    switch (user.type) {\n      case 'org':\n        return React.createElement(Redirect, {\n          to: \"/jobs\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 30\n          },\n          __self: this\n        });\n\n      default:\n        return React.createElement(Redirect, {\n          to: \"/createJobs\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 32\n          },\n          __self: this\n        });\n    } // return <Redirect to='/jobs' />;\n\n  }\n\n  return React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"authBox\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"text-center lead\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fas fa-user\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }), \" Sign Into Your Account\"), React.createElement(\"form\", {\n    className: \"form formContainer\",\n    onSubmit: e => onSubmit(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-check\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    className: \"form-check-input\",\n    type: \"checkbox\",\n    name: \"type\",\n    id: \"employer\",\n    value: \"employe\",\n    onChange: e => onChange(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    className: \"form-check-label\",\n    htmlFor: \"employer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"Login As employe\"), React.createElement(\"input\", {\n    className: \"form-check-input\",\n    type: \"checkbox\",\n    name: \"type\",\n    id: \"organisation\",\n    value: \"org\",\n    onChange: e => onChange(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    className: \"form-check-label\",\n    htmlFor: \"organisation\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"Login as Employer\")), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Username\",\n    name: \"username\",\n    value: username,\n    onChange: e => onChange(e),\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"email\",\n    placeholder: \"Email Address\",\n    name: \"email\",\n    value: email,\n    onChange: e => onChange(e),\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Password\",\n    name: \"password\",\n    value: password,\n    onChange: e => onChange(e),\n    minLength: \"6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  })), React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"btn btn-primary\",\n    value: \"Login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  })), React.createElement(\"p\", {\n    className: \"my-1 text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, \"Don't have an account? \", React.createElement(Link, {\n    to: \"/register\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, \"Sign Up\"))));\n};\n\nLogin.propTypes = {\n  login: PropTypes.func.isRequired,\n  isAuthenticated: PropTypes.bool,\n  auth: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  auth: state.auth\n});\n\nexport default connect(mapStateToProps, {\n  login\n})(Login);","map":{"version":3,"sources":["/home/irfan/Desktop/go-workspace/src/github.com/swipesmart/client/src/components/auth/Login.js"],"names":["React","Fragment","useState","Link","Redirect","connect","PropTypes","login","Login","isAuthenticated","auth","user","console","log","username","email","password","type","formData","setFormData","onChange","e","target","name","value","onSubmit","preventDefault","propTypes","func","isRequired","bool","object","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { Fragment, useState } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { login } from '../../actions/auth';\n\nconst Login = ({ login, isAuthenticated, auth: { user } }) => {\n  console.log('user login:', user);\n  const [formData, setFormData] = useState({\n    username: '',\n    email: '',\n    password: '',\n    type: ''\n  });\n\n  const { username, email, password, type } = formData;\n\n  const onChange = e =>\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n\n  const onSubmit = async e => {\n    e.preventDefault();\n    login(username, email, password, type);\n  };\n\n  if (isAuthenticated && user) {\n    switch (user.type) {\n\n      case 'org':\n        return <Redirect to='/jobs' />;\n      default:\n        return <Redirect to='/createJobs' />;\n    }\n\n    // return <Redirect to='/jobs' />;\n  }\n\n  return (\n    <Fragment>\n      <div className=\"authBox\">\n        {/*      <h1 className='large text-primary'>Sign In</h1> */ }\n        <p className='text-center lead'>\n          <i className='fas fa-user' /> Sign Into Your Account\n    </p>\n        <form className='form formContainer' onSubmit={ e => onSubmit(e) }>\n          <div className=\"form-check\">\n            <input className=\"form-check-input\" type=\"checkbox\" name=\"type\" id=\"employer\" value=\"employe\" onChange={ e => onChange(e) } />\n            <label className=\"form-check-label\" htmlFor=\"employer\">\n              Login As employe\n    </label>\n            <input className=\"form-check-input\" type=\"checkbox\" name=\"type\" id=\"organisation\" value=\"org\" onChange={ e => onChange(e) } />\n            <label className=\"form-check-label\" htmlFor=\"organisation\">\n              Login as Employer\n    </label>\n          </div>\n          <div className='form-group'>\n            <input\n              type='text'\n              placeholder='Username'\n              name='username'\n              value={ username }\n              onChange={ e => onChange(e) }\n              required\n            />\n          </div>\n\n          <div className='form-group'>\n            <input\n              type='email'\n              placeholder='Email Address'\n              name='email'\n              value={ email }\n              onChange={ e => onChange(e) }\n              required\n            />\n          </div>\n          <div className='form-group'>\n            <input\n              type='password'\n              placeholder='Password'\n              name='password'\n              value={ password }\n              onChange={ e => onChange(e) }\n              minLength='6'\n            />\n          </div>\n          <input type='submit' className='btn btn-primary' value='Login' />\n        </form>\n        <p className='my-1 text-center'>\n          Don't have an account? <Link to='/register'>Sign Up</Link>\n        </p>\n      </div>\n    </Fragment>\n  );\n};\n\nLogin.propTypes = {\n  login: PropTypes.func.isRequired,\n  isAuthenticated: PropTypes.bool,\n  auth: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  auth: state.auth,\n});\n\nexport default connect(\n  mapStateToProps,\n  { login }\n)(Login);\n"]},"metadata":{},"sourceType":"module"}